"use strict";$(document).ready(function(){var f,n,t;$(window).scroll(function(){$(document).scrollTop()>50?($(".blairandavery").addClass("shrink"),$(".navbar").addClass("navshrink")):($(".blairandavery").removeClass("shrink"),$(".navbar").removeClass("navshrink"))});$("a").on("click",function(n){if(this.hash!==""){n.preventDefault();var t=this.hash;$("html, body").animate({scrollTop:$(t).offset().top},800,function(){window.location.hash=t})}});$("#openRSVP").click(function(n){n.preventDefault();$("#RSVPModal").modal("show")});$(".rsvp_container").hide();$(".rsvp_answer").click(function(){$(".rsvp_answer").removeClass("active");$(this).addClass("active");$(".rsvp_submit").show();var n=$(this).data("content");n==="rsvp_going"?($("#rsvp_yes").fadeIn(750),$(".rsvp_optional").fadeIn(750),$(".response_header").text("Awesome."),$("#rsvp_YESorNO").val("true")):($("#rsvp_yes").fadeIn(750),$(".rsvp_optional").fadeOut(0),$(".response_header").text("Sorry you can't make it!"),$("#rsvp_YESorNO").val("false"))});$("#guest_select").change(function(){for(var i=$(this).val(),t="",n=0;n<i;n++)t=t+'<div class="col-lg-12"><h6>Guest '+(n+1)+'<\/h6><\/div><div class="col-6"><div class="form-group"><label for="response_fname">*First Name<\/label><input type="text" class="form-control" id="Guest_'+(n+1)+'_Fname" name="response_guest_'+(n+1)+'_fname" required><\/div><\/div><div class="col-6"><div class="form-group"><label for="response_lname">*Last Name<\/label><input type="text" class="form-control" id="Guest_'+(n+1)+'_Lname" name="response_guest_'+(n+1)+'_lname" required><\/div><\/div>';$("#guest_container").html(t)});$("#rsvpForm").validate({rules:{response_fname:"required",response_lname:"required",response_email:"required"},messages:{response_fname:"Please enter your first name",response_lname:"Please enter your last name",response_email:"Please enter your email or 'none@gmail.com' if you do not have one"},submitHandler:function(){if($("#submit_rsvp").hasClass("disabled"))$.ajax({type:"POST",url:"Shared/AddGuest",dataType:"HTML",data:{},success:function(){},error:function(){toastr.warning("You already RSVPd","Hold up!",{closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!1,positionClass:"toast-bottom-full-width",preventDuplicates:!0,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"})}});else{var n=$("#response_lname").val()?$("#response_lname").val():"none",t=$("#response_fname").val()?$("#response_fname").val():"none",i=$("#response_email").val()?$("#response_email").val():"none",r=$("#response_comment").val()?$("#response_comment").val():"none",u=$("#Guest_1_Fname").val()?$("#Guest_1_Fname").val():"none",f=$("#Guest_1_Lname").val()?$("#Guest_1_Lname").val():"none",e=$("#Guest_2_Fname").val()?$("#Guest_2_Fname").val():"none",o=$("#Guest_2_Lname").val()?$("#Guest_2_Lname").val():"none",s=$("#Guest_3_Fname").val()?$("#Guest_3_Fname").val():"none",h=$("#Guest_3_Lname").val()?$("#Guest_3_Lname").val():"none",c=$("#Guest_4_Fname").val()?$("#Guest_4_Fname").val():"none",l=$("#Guest_4_Lname").val()?$("#Guest_4_Lname").val():"none",a=$("#Guest_5_Fname").val()?$("#Guest_5_Fname").val():"none",v=$("#Guest_5_Lname").val()?$("#Guest_5_Lname").val():"none",y=$("#Guest_6_Fname").val()?$("#Guest_6_Fname").val():"none",p=$("#Guest_6_Lname").val()?$("#Guest_6_Lname").val():"none",w=$("#Guest_7_Fname").val()?$("#Guest_7_Fname").val():"none",b=$("#Guest_7_Lname").val()?$("#Guest_7_Lname").val():"none",k=$("#Guest_8_Fname").val()?$("#Guest_8_Fname").val():"none",d=$("#Guest_8_Lname").val()?$("#Guest_8_Lname").val():"none",g=$("#Guest_9_Fname").val()?$("#Guest_9_Fname").val():"none",nt=$("#Guest_9_Lname").val()?$("#Guest_9_Lname").val():"none",tt=$("#Guest_10_Fname").val()?$("#Guest_10_Fname").val():"none",it=$("#Guest_10_Lname").val()?$("#Guest_10_Lname").val():"none",rt=$("#rsvp_YESorNO").val();$.ajax({type:"POST",url:"Shared/AddGuest",dataType:"HTML",data:{LastName:n,FirstName:t,Email:i,Comment:r,Guest_1_Fname:u,Guest_1_Lname:f,Guest_2_Fname:e,Guest_2_Lname:o,Guest_3_Fname:s,Guest_3_Lname:h,Guest_4_Fname:c,Guest_4_Lname:l,Guest_5_Fname:a,Guest_5_Lname:v,Guest_6_Fname:y,Guest_6_Lname:p,Guest_7_Fname:w,Guest_7_Lname:b,Guest_8_Fname:k,Guest_8_Lname:d,Guest_9_Fname:g,Guest_9_Lname:nt,Guest_10_Fname:tt,Guest_10_Lname:it,Attending:rt},success:function(){$("#RSVPModal").modal("hide");$("#submit_rsvp").addClass("disabled");toastr.success("We have received your RSVP.","Success!",{closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!1,positionClass:"toast-bottom-full-width",preventDuplicates:!0,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"})},error:function(){toastr.error("You have NOT RSVPd. Please try again!","Sorry something went wrong!",{closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!1,positionClass:"toast-bottom-full-width",preventDuplicates:!0,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"})}})}}});f=0;n=0;$(".guest_card").each(function(){sub_count=$(this).find(".sub_guest").length;$(this).find(".sub_guestCount").html(sub_count);n+=parseFloat(sub_count);console.log(sub_count)});var i=$(".attending_card").length,r=$(".notattending_card").length,e=n,u=i+r+e,o=u*150;$(".guest_count_attending").html(n+i);$(".guest_count_notattending").html(r);$(".guest_count_total").html(u);$(".guest_cost").html(o);var s=new Date("Apr 14, 2018 14:30:00").getTime(),l=$("#timer"),h=setInterval(function(){var t=(new Date).getTime(),n=s-t,i=Math.floor(n/864e5),r=Math.floor(n%864e5/36e5),u=Math.floor(n%36e5/6e4),f=Math.floor(n%6e4/1e3);$(".countdown").html(i+" days "+r+" hours "+u+" minutes").fadeIn(500);n<0&&(clearInterval(h),$(".countdown").html("We did it!"))},1e3);$(".grid-item").shuffle();t=$(".grid").packery({percentPosition:!0});t.imagesLoaded().progress(function(){t.packery()})}),function(n){n.fn.shuffle=function(){var t=this.get(),r=function(n){return Math.floor(Math.random()*n)},i=n.map(t,function(){var i=r(t.length),u=n(t[i]).clone(!0)[0];return t.splice(i,1),u});return this.each(function(t){n(this).replaceWith(n(i[t]))}),n(i)}}(jQuery);